<div id="navigation_bar_my_posts">
	<a href="@{MyPosts.page()}">My Posts</a>
</div>
<div id="navigation_bar_post_stream">
	<a href="@{PostStream.page()}">Post Stream</a>
</div>
<div id="navigation_bar_search">
	#{if searchString == nil}
	<form id="navigation_bar_search_bar" action="@{SearchResults.page()}">
	#{/if}
		<input id="navigation_bar_search_text" placeholder="Type in your search terms!" type="text" name="searchString" value="${searchString?.raw()}">
		<input id="navigation_bar_search_button" type="button" value="Search">
	#{if searchString == nil}
	</form>
	#{/if}
	
</div>
<div id="navigation_bar_help">
	<a href="#">Help</a>
</div>
<div id="navigation_bar_profile">
	<a href="#" class="navigation_bar_pop_up_button navigation_bar_profile_button">
		Profile
	</a>
	<div id="navigation_bar_profile_box">
		<div class="navigation_bar_triangle">
		</div>
		<div class="navigation_bar_triangle2">
		</div>
    	<div id="navigation_bar_profile_box_content">
    		<img style="position: relative; top: 10px; left: 5px; width: 30px;" src="/public/images/defaultUserImage.jpg" alt="user profile" />
        	#{form @MyProfile.page(), id:'navigation_bar_profile_form'}
            	<input type="submit" value="View Profile" />
        	#{/form}
        	#{form @MainPage.logout(), id:'navigation_bar_profile_form2'}
            	<input type="submit" id="revokeButton" value="Logout" />
        	#{/form}
    	</div>
	</div>
</div>


<script type="text/javascript">
function disconnectUser(access_token) {
  var revokeUrl = 'https://accounts.google.com/o/oauth2/revoke?token=' +
      access_token;

  // Perform an asynchronous GET request.
  $.ajax({
    type: 'GET',
    url: revokeUrl,
    async: false,
    contentType: "application/json",
    dataType: 'jsonp',
    success: function(nullResponse) {
      // Do something now that user is disconnected
      // The response is always undefined.
    },
    error: function(e) {
      // Handle the error
      // console.log(e);
      // You could point users to manually disconnect if unsuccessful
      // https://plus.google.com/apps
    }
  });
}
// Could trigger the disconnect on a button click
$('#revokeButton').click(disconnectUser);
</script>
